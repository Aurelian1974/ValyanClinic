@page "/"

<PageTitle>Dashboard Medical</PageTitle>

<div class="dashboard-container">
    <!-- Welcome Alert -->
    <div class="welcome-section">
        @if (showWelcome)
        {
            <div class="alert-success">
                <div class="alert-icon">✓</div>
                <div class="alert-content">
                    <strong>Bun venit, Dr. Elena Popescu!</strong>
                    <div>Conectat cu succes in sistemul ValyanMed</div>
                </div>
                <button class="alert-close" @onclick="() => showWelcome = false">×</button>
            </div>
        }
    </div>

    <!-- Statistics Cards -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon patients">👥</div>
            <div class="stat-content">
                <div class="stat-number">1,234</div>
                <div class="stat-label">Pacienti Inregistrati</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon consultations">📅</div>
            <div class="stat-content">
                <div class="stat-number">45</div>
                <div class="stat-label">Consultatii Astazi</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon medications">💊</div>
            <div class="stat-content">
                <div class="stat-number">892</div>
                <div class="stat-label">Medicamente in Stoc</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon revenue">💰</div>
            <div class="stat-content">
                <div class="stat-number">€15,450</div>
                <div class="stat-label">Venit Luna Curenta</div>
            </div>
        </div>
    </div>

    <!-- Main Content Grid -->
    <div class="main-content-grid">
        <!-- Quick Actions -->
        <div class="quick-actions-section">
            <h3>Actiuni Rapide</h3>
            <div class="action-buttons">
                <button class="action-btn primary" @onclick="() => NavigateToAddPatient()">
                    <div class="btn-icon">👤+</div>
                    <div class="btn-content">
                        <div class="btn-title">Adauga Pacient</div>
                        <div class="btn-subtitle">Inregistreaza pacient nou</div>
                    </div>
                </button>
                
                <button class="action-btn secondary" @onclick="() => NavigateToScheduleConsultation()">
                    <div class="btn-icon">📅+</div>
                    <div class="btn-content">
                        <div class="btn-title">Programeaza Consultatie</div>
                        <div class="btn-subtitle">Creaza programare noua</div>
                    </div>
                </button>
                
                <button class="action-btn tertiary" @onclick="() => NavigateToMedications()">
                    <div class="btn-icon">💊</div>
                    <div class="btn-content">
                        <div class="btn-title">Gestioneaza Medicamente</div>
                        <div class="btn-subtitle">Actualizeaza stocul</div>
                    </div>
                </button>
                
                <button class="action-btn quaternary" @onclick="() => NavigateToReports()">
                    <div class="btn-icon">📊</div>
                    <div class="btn-content">
                        <div class="btn-title">Vezi Rapoarte</div>
                        <div class="btn-subtitle">Genereaza rapoarte</div>
                    </div>
                </button>
                
                <button class="action-btn logout" @onclick="() => HandleLogout()">
                    <div class="btn-icon">🚪</div>
                    <div class="btn-content">
                        <div class="btn-title">Delogare</div>
                        <div class="btn-subtitle">Iesi din sistem</div>
                    </div>
                </button>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="recent-activity-section">
            <h3>Activitate Recenta</h3>
            <div class="activity-list">
                <div class="activity-item">
                    <div class="activity-icon success">👤</div>
                    <div class="activity-content">
                        <div class="activity-title">Pacient nou: Maria Popescu</div>
                        <div class="activity-time">Astazi, 14:30</div>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon warning">💊</div>
                    <div class="activity-content">
                        <div class="activity-title">Stoc actualizat: Paracetamol</div>
                        <div class="activity-time">Astazi, 13:45</div>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon info">📄</div>
                    <div class="activity-content">
                        <div class="activity-title">Factura generata: #FAC-001</div>
                        <div class="activity-time">Astazi, 12:20</div>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon info">📊</div>
                    <div class="activity-content">
                        <div class="activity-title">Raport lunar generat</div>
                        <div class="activity-time">Astazi, 10:15</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    [Inject] private NavigationManager Navigation { get; set; } = default!;
    
    private bool showWelcome = true;

    private void NavigateToAddPatient() => Navigation.NavigateTo("/pacienti/add");
    private void NavigateToScheduleConsultation() => Navigation.NavigateTo("/consultatii/add");
    private void NavigateToMedications() => Navigation.NavigateTo("/medicamente");
    private void NavigateToReports() => Navigation.NavigateTo("/rapoarte");
    private void HandleLogout() => Navigation.NavigateTo("/login");
}
